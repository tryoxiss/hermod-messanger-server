<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hermod Messanger Server Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installaton</a></li><li class="chapter-item expanded "><a href="developement/brief_guide_to_developement.html"><strong aria-hidden="true">2.</strong> A Guide to Developement</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="developement/submitting_patches.html"><strong aria-hidden="true">2.1.</strong> Submitting Patches</a></li><li class="chapter-item expanded "><a href="developement/code_style.html"><strong aria-hidden="true">2.2.</strong> Style Guide</a></li><li class="chapter-item expanded "><a href="developement/breaking_changes.html"><strong aria-hidden="true">2.3.</strong> When and How to Make Breaking Changes</a></li></ol></li><li class="chapter-item expanded "><a href="security/index.html"><strong aria-hidden="true">3.</strong> Security</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="security/best_practices.html"><strong aria-hidden="true">3.1.</strong> Best Practices</a></li></ol></li><li class="chapter-item expanded "><a href="code/index.html"><strong aria-hidden="true">4.</strong> Code Documentation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="code/software-stack.html"><strong aria-hidden="true">4.1.</strong> Software Stack</a></li></ol></li><li class="chapter-item expanded "><a href="usage/index.html"><strong aria-hidden="true">5.</strong> End User Facing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="usage/exit-codes.html"><strong aria-hidden="true">5.1.</strong> Exit Codes</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="contributors.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Hermod Messanger Server Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>Chances are you either to do one (or both!) of two things: </p>
<ul>
<li>Install Hermod on a server of your own</li>
<li>Help develop Hermod</li>
</ul>
<p>And chacnes are if its the first you don't have much patience and we get it, so lets go over that now. </p>
<h2 id="installing-on-a-server-of-your-own"><a class="header" href="#installing-on-a-server-of-your-own">Installing on a server of your own</a></h2>
<ol>
<li>We have no production relases</li>
<li>We will add instructions when we do. </li>
<li>Its really much just running <code>INSTALL.sh</code> with <code>sudo</code> though.</li>
</ol>
<h2 id="setting-up-a-dev-server-for-testing"><a class="header" href="#setting-up-a-dev-server-for-testing">Setting up a dev server for testing</a></h2>
<ol>
<li>We don't have this yet</li>
<li>Please help</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-guide-to-developement"><a class="header" href="#a-guide-to-developement">A Guide to Developement</a></h1>
<!-- We need to make a shell script to automatically generate certificates for 
     easier development and kickstart -->
<p>This is created with help from [techschool guru][https://dev.to/techschoolguru/how-to-create-sign-ssl-tls-certificates-2aai]</p>
<p>When asked for a password, enter a simple password used ONLY for testing. Our choice is <code>admin</code>.</p>
<ol>
<li>
<p>openssl req -x509 -newkey rsa:4096 -days 365 -keyout ca-key.pem -out ca-cert.pem</p>
<p>The country code
The state or province name
The organisation name
The unit name
The common name (or domain name)
The email address</p>
</li>
<li>
<p>openssl req -newkey rsa:4096 -keyout server-key.pem -out server-req.pem -subj &quot;/C=FR/ST=Ile de France/L=Paris/O=PC Book/OU=Computer/CN=*.pcbook.com/emailAddress=pcbook@gmail.com&quot;</p>
</li>
<li>
<p>openssl x509 -req -in server-req.pem -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -out server-cert.pem</p>
</li>
<li>
<p>openssl pkcs12 -export -out identity.pfx -inkey server-key.pem -in server-cert.pem</p>
</li>
<li>
<p>(OPTIONAL, NOT-YET-WORKING) open your web browser of choice to the test site and download the chain of certificates from the more information &gt; certificate, download and put it into your bonfire-server directory</p>
</li>
<li>
<p>(OPTIONAL, NOT-YET-WORKING) openssl pkcs12 -export -out identity.pfx -inkey server-key.pem -in server-cert.pem -certfile chain_certs.pem</p>
</li>
<li>
<p>You should now be able to delete all the certificate files except <code>identity.pfx</code>, which is required. The others were only requires to create identity.pfx.</p>
</li>
</ol>
<p>To check use this:
openssl verify -CAfile ca-cert.pem server-cert.pem</p>
<h2 id="file-requirements"><a class="header" href="#file-requirements">File Requirements</a></h2>
<p>Every file MUST contain the licence notice found in <code>source/_filenotice.txt</code>. It is not a requirement of the licence we use (AGPL v3 only), but of this project. It is incredbily easy to de-assosiate a file with a project, and therefore its licence. This increses the chance are code is used in ways not compliant with the licence. If every file has the attached notice, it shows clear intent to dis-assosiate it with the licence if that section is removed.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="submitting-patches"><a class="header" href="#submitting-patches">Submitting Patches</a></h1>
<h2 id="copyright"><a class="header" href="#copyright">Copyright</a></h2>
<p>By submitting a patch, all contributed code and assets are licenced under the <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">GNU Affero General Public Licence Version 3 Only</a>. </p>
<!-- Additionally, every file MUST have the following comment at the top of it. 

```rs
/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *  This file is part of:         https://github.com/tryoxiss/bonfire-server *
 *  Hermod Messanger                          https://en.ourdomain.ext/docs/ *
 *                                                                           *
 *  Copyright (C) 2023—present : Hermod Messenger Contributers (AUTHORS.md)  *
 *                                                                           *
 *  This program is free software: you can redistribute it and/or modify     *
 *  it under the terms of the GNU Affero General Public License version 3    *
 *  as published by the Free Software Foundation.                            *
 *                                                                           *
 *  This program is distributed in the hope that it will be useful,          *
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of           *
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            *
 *  GNU Affero General Public License version 3 for more details.            *
 *                                                                           *
 *  You should have received a copy of the GNU Affero General Public License *
 *  along with this program.  If not, see:                                   *
 *    https://www.gnu.org/licenses/agpl-3.0                                  *
 *                                                                           *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
 ``` --><div style="break-before: page; page-break-before: always;"></div><h1 id="style-guide"><a class="header" href="#style-guide">Style Guide</a></h1>
<p>(TODO)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="when-and-how-to-make-breaking-changes"><a class="header" href="#when-and-how-to-make-breaking-changes">When and How to Make Breaking Changes</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="security"><a class="header" href="#security">Security</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-documentation"><a class="header" href="#code-documentation">Code Documentation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="software-stack"><a class="header" href="#software-stack">Software Stack</a></h1>
<p>Protocols: </p>
<pre><code>LAYER         PROTOCOL   JOB
----------------------------
application   DIM        Define message structure
application   AES        Encrypt/Decrypt message
application   TLS        Encrypt/Decrypt headers
presentation
session
transport     TCP        Attach TCP headers to tell network layer targets and sources
network       IPv 4/6    Transmit to the target destination over the net
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="end-user-facing"><a class="header" href="#end-user-facing">End User Facing</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="best-practices-1"><a class="header" href="#best-practices-1">Best Practices</a></h1>
<p>We generally try and give exit codes some meaning. We do not use a system where diffrent digits represent diffrent thigns. Common meaningful examples are recigniseable numbers or short 2--5 number sequences that spell something when typed on a telephone. The standard for that, if you are unfamilliar with it, is each number can mean 3 letters, which are as follows: </p>
<pre><code> 1    2    3
     abc  def

 4    5    6
ghi  jkl  mno

 7    8    9
pqrs tuv wxyz
</code></pre>
<p>As many exit code</p>
<p><code>3467</code> DIMP</p>
<p><code>0</code> : Unknown Exit Reason
<code>1</code> : Catch-All Error Exit
<code>123</code> : Failed to Iterate (Rationale: Iterators count, this counts)
<code>236</code> : Config Files Missing (Rationale: when typed on a telephone, this could be &quot;CFM&quot;, or &quot;Config Files Missing&quot;)
<code>255</code> : Max Packet Capacity Reached. This error code is 255 since it is easily recignised as an intiger limit, in the hopes that people may have an idea of what happened without looking at the docs.
<code>256</code> : Overflow Error (Rationale: <code>255</code> is the maximum that can be represented by a u8, so <code>256</code> overflows it.)
<code>863</code> : User Manual Exit (Rationale: when typed on a telephone, this could be &quot;UME&quot;, or &quot;User Manual Exit&quot;)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>
<p>Heres everyone who has contribued to the docs! If you feel you are missing or make your first contribution, please add yourself to this list and create a pull request!</p>
<ul>
<li><a href="https://tryoxiss.github.io">tryoxiss</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
